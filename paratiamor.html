<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Imagen a Números en Color</title>
<style>
  body {
    background: #111;
    color: white;
    font-family: monospace;
    text-align: center;
  }
  pre {
    white-space: pre;
    font-size: 6px; /* Ajusta el tamaño de los números */
    line-height: 6px;
  }
</style>
</head>
<body>
<h1>Imagen convertida a números de colores</h1>
<input type="file" id="upload" accept="image/*">
<pre id="ascii"></pre>

<script>
const upload = document.getElementById('upload');
const asciiContainer = document.getElementById('ascii');

upload.addEventListener('change', (event) => {
    const file = event.target.files[0];
    if (!file) return;

    const img = new Image();
    img.onload = () => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        const width = 100; // Ancho del ASCII (ajustar)
        const height = Math.floor(img.height * (width / img.width));

        canvas.width = width;
        canvas.height = height;
        ctx.drawImage(img, 0, 0, width, height);

        let asciiArt = "";
        const chars = "0123456789";

        for (let y = 0; y < height; y++) {
            for (let x = 0; x < width; x++) {
                const pixel = ctx.getImageData(x, y, 1, 1).data;
                const brightness = (pixel[0] + pixel[1] + pixel[2]) / 3;
                const charIndex = Math.floor((brightness / 255) * (chars.length - 1));
                const char = chars[charIndex];
                asciiArt += `<span style="color:rgb(${pixel[0]},${pixel[1]},${pixel[2]})">${char}</span>`;
            }
            asciiArt += "\n";
        }

        asciiContainer.innerHTML = asciiArt;
    };

    img.src = URL.createObjectURL(file);
});
</script>
</body>
</html>